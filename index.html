<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RGB to HEX Converter</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <div>
        <div id="main">
        <p id="out">RGB(x,y,z)</p>
        </div>
        <form class="form_set">
            <input id="delete" type="text" onchange="parseRGB(this.value)">
            <input type="button" value="Enter">
        </form>
        <input id="clear" type="button" value="Clear">
    </div>
    <script>
        const box = document.getElementById('main');
        const outter = document.getElementById('out');
        const clear = document.getElementById('clear');
        const del = document.getElementById('delete');
        const text = "RGB(x,y,z)";
        //************************************************************************************/
        //
        // @param X {string} the RGB version of color, which will be converted into HEX
        // @param RGB(167,39,54)
        //
        //************************************************************************************/
        function parseRGB(x) {
            let arr = x.split(',');
            let first = Number(arr[0].split('(')[1]);
            let sec = Number(arr[1]);
            let third = Number(arr[2].split(')')[0]);
            let toParse = [];
            toParse.push(first,sec,third);
            let hex = '#';
            for (let i = 0; i < toParse.length; i += 1) {
                if (toParse[i].toString(10) !== Number.isNaN(toParse[i])) {
                    hex += (toParse[i]).toString(16);
                }
            }
            outter.innerHTML = hex;
            box.style.backgroundColor = hex;
            box.style.borderColor = hex;
        }
        clear.addEventListener('click', function onClick(event) {
            outter.innerHTML = text;
            box.style.backgroundColor = "transparent";
            box.style.borderColor = "black";
            del.value = "";
        });
    </script>
</body>
</html>